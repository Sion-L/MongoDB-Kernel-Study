截止目前，MongoDB 距离 2007 年发布第一个版本（github数据）已经将近 20 年，从最开始的”小众数据库“发展为了可以承载海量业务数据的核心数据库系统。在此期间，支持了插件式引擎，引入了 WiredTiger 存储引擎（3.2 版本），支持了因果一致性，changeStream(3.6 版本)，支持了事务（4.0 版本） 和分布式事务（4.2版本），支持了时序并持续优化其性能（5.0版本）, 持续丰富索引和聚合算子等基础能力。随着功能和性能的不断增强，目前 MongoDB 已经成为了全球流行度前 5 的数据库，流行度第 1 的文档数据库。参考 [DB-Engines Ranking](https://db-engines.com/en/ranking):     
<img src="https://github.com/pengzhenyi2015/MongoDB-Kernel-Study/assets/16788801/400e62c8-c159-4b97-871a-8dfe9e559c9c" width=700>

当我们在看一款数据库时，首先会去了解它有哪些特性，适应哪些场景，并自然地同当前最流行的数据库进行对比（比如 MySQL, Redis 等）。     
MongoDB 最重要的特性有：
- 天生分布式。MongoDB 天生就支持非常优秀的复制集、HA、分片集群等架构，非常方便横向扩展，非常适合成长型业务和海量存储的业务。从其命名也能看出来：hu**mongo**us **d**ata***b**ase
- 灵活可扩展。得益于 MongoDB 的文档模型，存储 BSON 格式（JSON - like）的数据。用户可以不需要预先定义表结构，而且可以在运行过程中任意增加或者删减字段，任意变换字段类型，任意进行嵌套。非常适合存储半结构化数据。
除此之外，丰富的索引和聚合操作、事务、时序等特性的支持也使得 MongoDB 不同于一般的 NoSQL 数据库，能够适应更多的业务场景。    

如果选择一个特性来代表 MongoDB，那一定是文档模型，这也是为什么 MongoDB 会被称为文档数据库的原因。    
因此，本章接下来探讨一个核心问题：**为什么 MongoDB 是文档数据库？**    
具体来说，分以下几个章节进行阐述：   
1. BSON 文档。对 BSON 的组成进行比特级拆解和分析，说明 BSON 相比于 JSON 的改进，以及为什么 MongoDB 选择 BSON 而不是 JSON。
2. KeyString 原理。对 BSON compare 操作进行分析，说明存在的不足。详细说明 KeyString 的诞生和原理，以及在 MongoDB 索引中的应用。
3. 文档模型和存储引擎的关系。在前面介绍完文档模型的 2 个核心组件之后，从系统架构出发，说明文档模型和存储引擎的关系，以及 WiredTiger 引擎如何在 MongoDB 中发挥作用。   

希望能通过本章的内容，探讨文档数据库的核心组件都有哪些，思考自研一个文档数据库该如何去做？


